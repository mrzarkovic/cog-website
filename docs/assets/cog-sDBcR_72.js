var _={exports:{}};(function(P,z){(function(p,m){P.exports=m()})(self,()=>(()=>{var p={d:(e,n)=>{for(var r in n)p.o(n,r)&&!p.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"u",{value:!0})}},m={};p.r(m),p.d(m,{init:()=>j,variable:()=>W});var S=function(e){return e.split("-").reduce(function(n,r,t){return n+(t?r[0].toUpperCase()+r.slice(1):r)},"")};function g(e){return e==="true"||e!=="false"&&(e==="null"?null:e==="undefined"?void 0:e===""?"":isNaN(Number(e))?e:Number(e))}var b=function(e,n){var r="return (state) => {".concat(Object.keys(n).map(function(t){return"const ".concat(t,' = state["').concat(t,'"];')}).join(`
`)," return ").concat(e,"}");return Function(r)()};function T(e,n){try{var r=b(function(a){return a.replace(/[\r\n]+/g,"")}(e),n),t=r(n);return Array.isArray(t)&&(t=t.join("")),t}catch(a){throw new Error("Failed to create function from expression {{".concat(e,"}}: ").concat(a.message))}}function y(e,n){for(var r=Object.assign({},n),t=0;t<e.length;t++)r[S(e[t].name)]=g(e[t].i?T(e[t].value,n):e[t].value);return r}function k(e){for(var n=e.indexOf("{{"),r=0,t=n;t<e.length;t++)if(e.slice(t,t+2)==="{{"?(r++,t++):e.slice(t,t+2)==="}}"&&(r--,t++),r===0)return{start:n,end:t};return{start:n,end:-1}}var E=function(e,n){for(var r,t,a=e,o=!0,c="";o;){var u=k(a),i=u.start,l=u.end;if(l===-1){o=!1;break}var s=a.slice(i+2,l-1),h=a.slice(0,i),f=a.slice(l+1),d=T((r=s,t=void 0,(t=document.createElement("div")).innerHTML=function(v){return v.replace(/<(?=[^<>]*>)/g,"&lt;").replace(new RegExp("(?<=[^<>]*)>","g"),"&gt;")}(r),t.textContent||t.innerText||""),n);c+="".concat(h).concat(d),a=f}return c+a},X=/\{\{(.+?)\}\}/,x=function(e){return Array.from(e.attributes).map(function(n){var r=X.exec(n.value);return{name:n.name,value:r?r[1]:n.value,i:!!r}})},N=function(e){return e.replace(/[\r\n]+\s*/g,"")};function V(e,n,r){for(var t=function(u){for(var i=[],l=document.evaluate("template",u,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),s=l.iterateNext();s;)i.push(s),s=l.iterateNext();return i}(e),a=document.createDocumentFragment(),o=0;o<t.length;o++){var c=t[o].getAttribute("id");if(c){if(t[o].innerHTML=N(t[o].innerHTML),t[o].content.childNodes.length!==1)throw new Error("Template ".concat(c," should have a single child"));F(c,t[o],n,r),a.appendChild(t[o])}}a.textContent=""}function F(e,n,r,t){function a(){return Reflect.construct(HTMLElement,[],a)}a.prototype=Object.create(HTMLElement.prototype),a.prototype.constructor=a,a.prototype.connectedCallback=function(o,c,u){return function(){var i,l,s=x(this),h=y(s,c),f=o.innerHTML.replace(/\{\{\s*children\s*\}\}/g,this.innerHTML),d=E(f,h),v=document.createElement("div");v.innerHTML=d;var R=v.firstChild;(i=this.parentNode)===null||i===void 0||i.insertBefore(R,this),u.add({element:R,l:f,v:d,h:s}),u.m(),(l=this.parentNode)===null||l===void 0||l.removeChild(this)}}(n,r,t),customElements.define(e,a)}var q=function(e,n,r){var t=n.getAttribute("data-on-".concat(e));if(!t)throw new Error("Missing data-handler attribute");var a=b(t,r);return function(o){try{a(r),o.preventDefault()}catch(c){throw new Error("".concat(c.message,": data-on-").concat(e,"=").concat(t))}}};function O(e,n,r){e.querySelectorAll("[data-on-".concat(n,"]")).forEach(function(t){var a=q(n,t,r);t.addEventListener(n,a),t["".concat(n,"Handler")]=a})}function L(e,n){O(e,"click",n),O(e,"change",n)}function M(e,n){if(n.name.startsWith("data-attribute-")){var r=n.name.substring(15);n.newValue?e.setAttribute(r,n.newValue):e.removeAttribute(r)}}var C=function(e){return e.nodeType!==Node.TEXT_NODE&&e.tagName.indexOf("-")!==-1},I=function(e,n,r){for(var t=[],a=document.evaluate("self::*[text()[contains(., '{{')] and text()[contains(., '}}')]] | self::*[@*[contains(., '{{') and contains(., '}}')]] | .//*[text()[contains(., '{{')] and text()[contains(., '}}')]] | .//*[@*[contains(., '{{') and contains(., '}}')]]",e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),o=a.iterateNext();o;)C(o)||t.push(o),o=a.iterateNext();for(var c=function(){var i,l=t[u].outerHTML,s=x(t[u]),h=E(l,n),f=document.createElement("div");f.innerHTML=h;var d=f.firstChild;s.map(function(v){return M(d,{name:v.name,newValue:g(v.i?T(v.value,n):v.value)})}),(i=t[u].parentNode)===null||i===void 0||i.replaceChild(d,t[u]),r.add({element:d,l,v:h,h:[]})},u=0;u<t.length;u++)c()};function w(e,n){e.querySelectorAll("[data-on-".concat(n,"]")).forEach(function(r){var t=r["".concat(n,"Handler")];t&&r.removeEventListener(n,t)})}function H(e,n){if(e.nodeType===Node.TEXT_NODE)return function(t,a){var o;return t.textContent!==a.textContent?[{node:t,p:a,content:(o=a.textContent)!==null&&o!==void 0?o:""}]:[]}(e,n);e.innerHTML=N(e.innerHTML),n.innerHTML=N(n.innerHTML);var r=function(t,a){for(var o=[],c=0;c<t.attributes.length;c++){var u=t.attributes[c],i=a.getAttribute(u.name);i!==u.value&&o.push({name:u.name,newValue:g(i||"")})}return o}(e,n);return(r.length>0?[{node:e,p:n,attributes:r}]:[]).concat(function(t,a){for(var o=[],c=!1,u=Math.max(t.childNodes.length,a.childNodes.length),i=0;i<u;i++){var l=t.childNodes[i],s=a.childNodes[i];if(l!==void 0&&l.nodeType===Node.TEXT_NODE&&s!==void 0&&s.nodeType===Node.TEXT_NODE){if(l.textContent!==s.textContent){c=!0;break}}else{if(l===void 0||s===void 0){c=!0;break}o=o.concat(H(l,s))}}return c?[{node:t,p:a,content:a.innerHTML}]:o}(e,n))}function D(e){return new DOMParser().parseFromString(e,"text/html").body.firstChild}function Y(e,n,r){for(var t=[],a=e;a!==n;)t.unshift(Array.prototype.indexOf.call(a.parentNode.childNodes,a)),a=a.parentNode;for(var o=r,c=0,u=t;c<u.length;c++){var i=u[c];if(!o.childNodes[i])return null;o=o.childNodes[i]}return o}var B=function(e,n,r,t,a){var o,c;if(C(n))(o=e.parentElement)===null||o===void 0||o.replaceChild(n,e);else if(r!==void 0)e.nodeType===Node.TEXT_NODE?e.textContent=r:(w(c=e,"click"),w(c,"change"),e.innerHTML=r,L(e,a));else if(t!==void 0)for(var u=0;u<t.length;u++)M(e,t[u]),e.setAttribute(t[u].name,t[u].newValue)},A=function(e,n){for(var r=0;r<e.value.length;r++){var t=e.value[r],a=t.element,o=t.l,c=t.h,u=t.v,i=y(c,n),l=E(o,i),s=D(l),h=D(u),f=H(h,s);if(f.length>0){e.N(r,l);for(var d=0;d<f.length;d++){var v=Y(f[d].node,h,a);B(v,f[d].p,f[d].content,f[d].attributes,i)}}}};function U(){return{list:[],get value(){return this.list},add:function(e){this.list.push(e)},N:function(e,n){this.list[e].v=n},m:function(){this.list=this.list.filter(function(e){var n=e.element;return document.body.contains(n)})}}}var j=function(e){var n={list:[],get value(){return this.list},add:function(i){this.list.push(i)},N:function(i,l){this.list[i].v=l}},r=U(),t=function(i){return{element:null,get value(){if(this.element||(this.element=i.querySelector("#app")),!this.element)throw new Error("No app element found!");return this.element}}}(e),a={state:null,get value(){return this.state||(this.state={}),this.state},set:function(i,l){this.state||(this.state={}),this.state[i]=l}};function o(i,l){setTimeout(function(){a.set(i,l),A(n,a.value),A(r,a.value)},0)}var c=function(){I(t.value,a.value,n),V(t.value,a.value,r),L(t.value,a.value)},u=e.j;return u&&e.removeEventListener("DOMContentLoaded",u),e.addEventListener("DOMContentLoaded",c),e.j=c,{variable:function(i,l){return a.set(i,l),{set value(s){o(i,s)},get value(){return a.value[i]},set:function(s){o(i,s)}}}}},W=j(document).variable;return m})())})(_);var G=_.exports;export{G as c};
